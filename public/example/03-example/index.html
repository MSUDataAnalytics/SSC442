<!DOCTYPE html>
<html lang="en-us" 
      xmlns:og="http://ogp.me/ns#" 
      xmlns:fb="https://www.facebook.com/2008/fbml">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Ben Bushong">

  
  
  
    
  
  <meta name="description" content="Data visualization in practiceCase study: new insights on povertyExploring the DataSlope chartsBland-Altman plotBump chartsThemesSmall multiplesSparklinesThe ecological fallacy and importance of showing the dataLogistic transformationShow the dataCase study: vaccines and infectious diseasesTRY ITData visualization in practiceIn this chapter, we will demonstrate how relatively simple ggplot2 code can create insightful and aesthetically pleasing plots.">

  
  <link rel="alternate" hreflang="en-us" href="https://ssc442kirkpatrick.netlify.app/example/03-example/">

  


  
  
  
  <meta name="theme-color" content="#18453B">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans+Condensed:400,400i,700,700i%7COverpass:400,400i,700,700i&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://ssc442kirkpatrick.netlify.app/example/03-example/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Data Analytics">
  <meta property="og:url" content="https://ssc442kirkpatrick.netlify.app/example/03-example/">
  <meta property="og:title" content="Visualizations | Data Analytics">
  <meta property="og:description" content="Data visualization in practiceCase study: new insights on povertyExploring the DataSlope chartsBland-Altman plotBump chartsThemesSmall multiplesSparklinesThe ecological fallacy and importance of showing the dataLogistic transformationShow the dataCase study: vaccines and infectious diseasesTRY ITData visualization in practiceIn this chapter, we will demonstrate how relatively simple ggplot2 code can create insightful and aesthetically pleasing plots."><meta property="og:image" content="https://ssc442kirkpatrick.netlify.app/img/social-image.png">
  <meta property="twitter:image" content="https://ssc442kirkpatrick.netlify.app/img/social-image.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2022-02-02T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2022-01-06T14:17:51-05:00">
  

  



  


  


  <link rel="shortcut icon" href="https://ssc442kirkpatrick.netlify.app/favicon.ico" />
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://ssc442kirkpatrick.netlify.app/img/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://ssc442kirkpatrick.netlify.app/img/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://ssc442kirkpatrick.netlify.app/img/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://ssc442kirkpatrick.netlify.app/img/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://ssc442kirkpatrick.netlify.app/img/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://ssc442kirkpatrick.netlify.app/img/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="https://ssc442kirkpatrick.netlify.app/img/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="https://ssc442kirkpatrick.netlify.app/img/favicon-16x16.png" sizes="16x16" />
  <meta name="application-name" content="SSC 442: Data Analytics" />
  <meta name="msapplication-TileColor" content="#FFFFFF" />
  <meta name="msapplication-TileImage" content="https://ssc442kirkpatrick.netlify.app/img/mstile-144x144.png" />


  <title>Visualizations | Data Analytics</title>

</head>


<body id="top" data-spy="scroll" data-offset="70"
    data-target="#TableOfContents"
    >

    <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


    







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Data Analytics</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Data Analytics</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/content/"><span>Content</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/example/"><span>Examples</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/assignment/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="https://join.slack.com/t/msu-qs62738/shared_invite/zt-10u63bf0n-b0cePmz9NDhhw3MSUPBP5A" target="_blank" rel="noopener"><span><i class="fab fa-slack"></i></span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      

      

      

    </ul>

  </div>
</nav>


    

<div class="container-fluid docs">
    <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
            





  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/example/">Examples</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/example/00-example/">0: Introduction to R</a>
      </li>
      
      <li >
        <a href="/example/01-example/">1: Visualization I</a>
      </li>
      
      <li >
        <a href="/example/02-example/">2: Visualization II</a>
      </li>
      
      <li class="active">
        <a href="/example/03-example/">3: Visualization III</a>
      </li>
      
      <li >
        <a href="/example/04-example/">4: Uncertainty</a>
      </li>
      
      <li >
        <a href="/example/05-example/">5: Linear Regression I</a>
      </li>
      
      <li >
        <a href="/example/06-example/">6: Linear Regression II</a>
      </li>
      
      <li >
        <a href="/example/07-example/">7: Linear Regression III</a>
      </li>
      
      <li >
        <a href="/example/08-example/">8: Nonparametric Regression</a>
      </li>
      
      <li >
        <a href="/example/09-example/">9: Bias vs. Variance</a>
      </li>
      
      <li >
        <a href="/example/10-example/">10: Classification</a>
      </li>
      
      <li >
        <a href="/example/11-example/">11: Data Wrangling</a>
      </li>
      
      <li >
        <a href="/example/12-example/">12: Text as Data</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

        </div>

        

        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

            <article class="article">

                <div class="docs-article-container">
                    <h1>Visualizations</h1>

                    

                    
                    <div class="due-date p-2 mb-3 bg-content text-white">
                        Content for Thursday, February 3, 2022
                    </div>
                    

                    

                    <div class="article-style">
                        
<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>
<link href="/rmarkdown-libs/lightable/lightable.css" rel="stylesheet" />

<div id="TOC">
<ul>
<li><a href="#gapminder">Data visualization in practice</a><ul>
<li><a href="#case-study-new-insights-on-poverty">Case study: new insights on poverty</a><ul>
<li><a href="#exploring-the-data">Exploring the Data</a></li>
<li><a href="#slope-charts">Slope charts</a></li>
<li><a href="#bland-altman-plot">Bland-Altman plot</a></li>
<li><a href="#bump-charts">Bump charts</a></li>
<li><a href="#themes">Themes</a></li>
<li><a href="#small-multiples">Small multiples</a></li>
<li><a href="#sparklines">Sparklines</a></li>
</ul></li>
<li><a href="#the-ecological-fallacy-and-importance-of-showing-the-data">The ecological fallacy and importance of showing the data</a><ul>
<li><a href="#logit">Logistic transformation</a></li>
<li><a href="#show-the-data">Show the data</a></li>
</ul></li>
<li><a href="#vaccines">Case study: vaccines and infectious diseases</a></li>
<li><a href="#try-it"><strong>TRY IT</strong></a></li>
</ul></li>
</ul>
</div>

<div id="gapminder" class="section level1">
<h1>Data visualization in practice</h1>
<p>In this chapter, we will demonstrate how relatively simple <strong>ggplot2</strong> code can create insightful and aesthetically pleasing plots. As motivation we will create plots that help us better understand trends in world health and economics. We will implement what we learned in previous sections of the class and learn how to augment the code to perfect the plots. As we go through our case study, we will describe relevant general data visualization principles and learn concepts such as <em>faceting</em>, <em>time series plots</em>, <em>transformations</em>, and <em>ridge plots</em>.</p>
<div id="case-study-new-insights-on-poverty" class="section level2">
<h2>Case study: new insights on poverty</h2>
<p>Hans Rosling<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> was the co-founder of the Gapminder Foundation<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, an organization dedicated to educating the public by using data to dispel common myths about the so-called developing world. The organization uses data to show how actual trends in health and economics contradict the narratives that emanate from sensationalist media coverage of catastrophes, tragedies, and other unfortunate events. As stated in the Gapminder Foundation‚Äôs website:</p>
<blockquote>
<p>Journalists and lobbyists tell dramatic stories. That‚Äôs their job. They tell stories about extraordinary events and unusual people. The piles of dramatic stories pile up in peoples‚Äô minds into an over-dramatic worldview and strong negative stress feelings: ‚ÄúThe world is getting worse!‚Äù, ‚ÄúIt‚Äôs we vs.¬†them!‚Äù, ‚ÄúOther people are strange!‚Äù, ‚ÄúThe population just keeps growing!‚Äù and ‚ÄúNobody cares!‚Äù</p>
</blockquote>
<p>Hans Rosling conveyed actual data-based trends in a dramatic way of his own, using effective data visualization. This section is based on two talks that exemplify this approach to education: [New Insights on Poverty]<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> and The Best Stats You‚Äôve Ever Seen<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>. Specifically, in this section, we use data to attempt to answer the following two questions:</p>
<ol style="list-style-type: decimal">
<li>Is it a fair characterization of today‚Äôs world to say it is divided into western rich nations and the developing world in Africa, Asia, and Latin America?</li>
<li>Has income inequality across countries worsened during the last 40 years?</li>
</ol>
<p>To answer these questions, we will be using the <code>gapminder</code> dataset provided in <strong>dslabs</strong>. This dataset was created using a number of spreadsheets available from the Gapminder Foundation. You can access the table like this:</p>
<pre class="r"><code>library(tidyverse)
library(dslabs)
library(ggrepel)
library(ggthemes)
gapminder = dslabs::gapminder %&gt;% as_tibble()</code></pre>
<div id="exploring-the-data" class="section level3">
<h3>Exploring the Data</h3>
<p>Taking an exercise from the <em>New Insights on Poverty</em> video, we start by testing our knowledge regarding differences in child mortality across different countries. For each of the six pairs of countries below, which country do you think had the highest child mortality rates in 2015? Which pairs do you think are most similar?</p>
<ol style="list-style-type: decimal">
<li>Sri Lanka or Turkey</li>
<li>Poland or South Korea</li>
<li>Malaysia or Russia</li>
<li>Pakistan or Vietnam</li>
<li>Thailand or South Africa</li>
</ol>
<p>When answering these questions without data, the non-European countries are typically picked as having higher child mortality rates: Sri Lanka over Turkey, South Korea over Poland, and Malaysia over Russia. It is also common to assume that countries considered to be part of the developing world: Pakistan, Vietnam, Thailand, and South Africa, have similarly high mortality rates.</p>
<p>To answer these questions <strong>with data</strong>, we can use <strong>dplyr</strong>. For example, for the first comparison we see that:</p>
<pre class="r"><code>dslabs::gapminder %&gt;%
  filter(year == 2015 &amp; country %in% c(&quot;Sri Lanka&quot;,&quot;Turkey&quot;)) %&gt;%
  select(country, infant_mortality)</code></pre>
<pre><code>##     country infant_mortality
## 1 Sri Lanka              8.4
## 2    Turkey             11.6</code></pre>
<p>Turkey has the higher infant mortality rate.</p>
<p>We can use this code on all comparisons and find the following:</p>
<table class="table table-striped" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
country
</th>
<th style="text-align:right;">
infant mortality
</th>
<th style="text-align:left;">
country
</th>
<th style="text-align:right;">
infant mortality
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Sri Lanka
</td>
<td style="text-align:right;">
8.4
</td>
<td style="text-align:left;">
Turkey
</td>
<td style="text-align:right;">
11.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Poland
</td>
<td style="text-align:right;">
4.5
</td>
<td style="text-align:left;">
South Korea
</td>
<td style="text-align:right;">
2.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Malaysia
</td>
<td style="text-align:right;">
6.0
</td>
<td style="text-align:left;">
Russia
</td>
<td style="text-align:right;">
8.2
</td>
</tr>
<tr>
<td style="text-align:left;">
Pakistan
</td>
<td style="text-align:right;">
65.8
</td>
<td style="text-align:left;">
Vietnam
</td>
<td style="text-align:right;">
17.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Thailand
</td>
<td style="text-align:right;">
10.5
</td>
<td style="text-align:left;">
South Africa
</td>
<td style="text-align:right;">
33.6
</td>
</tr>
</tbody>
</table>
<p>We see that the European countries on this list have higher child mortality rates: Poland has a higher rate than South Korea, and Russia has a higher rate than Malaysia. We also see that Pakistan has a much higher rate than Vietnam, and South Africa has a much higher rate than Thailand. It turns out that when Hans Rosling gave this quiz to educated groups of people, the average score was less than 2.5 out of 5, worse than what they would have obtained had they guessed randomly. This implies that more than ignorant, we are misinformed. In this chapter we see how data visualization helps inform us.</p>
</div>
<div id="slope-charts" class="section level3">
<h3>Slope charts</h3>
<p>One exception where another type of plot may be more informative is when you are comparing variables of the same type, but at different time points and for a relatively small number of comparisons. For example, comparing life expectancy between 2010 and 2015. In this case, we might recommend a <em>slope chart</em>.</p>
<p>There is no geometry for slope charts in <strong>ggplot2</strong>, but we can construct one using <code>geom_line</code>. We need to do some tinkering to add labels. We‚Äôll paste together a character stright with the country name and the starting life expectancy, then do the same with just the later life expectancy for the right side. Below is an example comparing 2010 to 2015 for large western countries:</p>
<pre class="r"><code>west &lt;- c(&quot;Western Europe&quot;,&quot;Northern Europe&quot;,&quot;Southern Europe&quot;,
          &quot;Northern America&quot;,&quot;Australia and New Zealand&quot;)

dat &lt;- gapminder %&gt;%
  filter(year%in% c(2010, 2015) &amp; region %in% west &amp;
           !is.na(life_expectancy) &amp; population &gt; 10^7) %&gt;%
    mutate(label_first = ifelse(year == 2010, paste0(country, &quot;: &quot;, round(life_expectancy, 1), &#39; years&#39;), NA),
           label_last = ifelse(year == 2015,  paste0(round(life_expectancy, 1),&#39; years&#39;), NA))

dat %&gt;%
  mutate(location = ifelse(year == 2010, 1, 2),
         location = ifelse(year == 2015 &amp;
                             country %in% c(&quot;United Kingdom&quot;, &quot;Portugal&quot;),
                           location+0.22, location),
         hjust = ifelse(year == 2010, 1, 0)) %&gt;%
  mutate(year = as.factor(year)) %&gt;%
  ggplot(aes(year, life_expectancy, group = country)) +
  geom_line(aes(color = country), show.legend = FALSE) +
  geom_text_repel(aes(label = label_first, color = country), direction = &#39;y&#39;, nudge_x = -1, seed = 1234, show.legend = FALSE) +
  geom_text_repel(aes(label = label_last, color = country), direction = &#39;y&#39;, nudge_x =  1, seed = 1234, show.legend = FALSE) +
  xlab(&quot;&quot;) + ylab(&quot;Life Expectancy&quot;)</code></pre>
<p><img src="/example/03-example_files/figure-html/slope-plot-1.png" width="672" /></p>
<p>An advantage of the slope chart is that it permits us to quickly get an idea of changes based on the slope of the lines. Although we are using angle as the visual cue, we also have position to determine the exact values. Comparing the improvements is a bit harder with a scatterplot:</p>
<p><img src="/example/03-example_files/figure-html/scatter-plot-instead-of-slope-1.png" width="672" /></p>
<p>In the scatterplot, we have followed the principle <em>use common axes</em> since we are comparing these before and after. However, if we have many points, slope charts stop being useful as it becomes hard to see all the lines.</p>
</div>
<div id="bland-altman-plot" class="section level3">
<h3>Bland-Altman plot</h3>
<p>Since we are primarily interested in the difference, it makes sense to dedicate one of our axes to it. The Bland-Altman plot, also known as the Tukey mean-difference plot and the MA-plot, shows the difference versus the average:</p>
<pre class="r"><code>dat %&gt;%
  mutate(year = paste0(&quot;life_expectancy_&quot;, year)) %&gt;%
  select(country, year, life_expectancy) %&gt;%
  spread(year, life_expectancy) %&gt;%
  mutate(average = (life_expectancy_2015 + life_expectancy_2010)/2,
         difference = life_expectancy_2015 - life_expectancy_2010) %&gt;%
  ggplot(aes(average, difference, label = country)) +
  geom_point() +
  geom_text_repel() +
  geom_abline(lty = 2) +
  xlab(&quot;Average of 2010 and 2015&quot;) +
  ylab(&quot;Difference between 2015 and 2010&quot;)</code></pre>
<p><img src="/example/03-example_files/figure-html/bland-altman-1.png" width="672" /></p>
<p>Here, by simply looking at the y-axis, we quickly see which countries have shown the most improvement. We also get an idea of the overall value from the x-axis.</p>
</div>
<div id="bump-charts" class="section level3">
<h3>Bump charts</h3>
<p>Finally, we can make a bump chart that shows changes in rankings over time. We‚Äôll look at fertility in South Asia. First we need to calculate a new variable that shows the rank of each country within each year. We can do this if we group by year and then use the <code>rank()</code> function to rank countries by the <code>fertility</code> column.</p>
<pre class="r"><code>sa_fe &lt;- gapminder %&gt;%
  filter(region == &quot;Southern Asia&quot;) %&gt;%
  filter(year &gt;= 2004, year &lt; 2015) %&gt;%
  group_by(year) %&gt;%
  mutate(rank = rank(fertility))</code></pre>
<p>We then plot this with points and lines, reversing the y-axis so 1 is at the top:</p>
<pre class="r"><code>ggplot(sa_fe, aes(x = year, y = rank, color = country)) +
  geom_line() +
  geom_point() +
  scale_y_reverse(breaks = 1:8)</code></pre>
<p><img src="/example/03-example_files/figure-html/make-bump-plot-1.png" width="672" /></p>
<p>Iran holds the number 1 spot, while Sri Lanka dropped from 2 to 6, and Bangladesh increased from 4 to 2.</p>
<p>As with the slopegraph, there are 8 different colors in the legend and it‚Äôs hard to line them all up with the different lines, so we can plot the text directly instead. We‚Äôll use <code>geom_text()</code> again. We don‚Äôt need to repel anything, since the text should fit in each row just fine. We need to change the <code>data</code> argument in <code>geom_text()</code> though and filter the data to only include one year, otherwise we‚Äôll get labels on every point, which is excessive. We can also adjust the theme and colors to make it cleaner.</p>
<pre class="r"><code>bumpplot &lt;- ggplot(sa_fe, aes(x = year, y = rank, color = country)) +
  geom_line(size = 2) +
  geom_point(size = 4) +
  geom_text(data = sa_fe %&gt;% dplyr::filter(year==2004) %&gt;% arrange(rank),
            aes(label = country, x = 2003), fontface = &quot;bold&quot;, angle = 45) +
 geom_text(data = sa_fe %&gt;% dplyr::filter(year==2014) %&gt;% arrange(rank),
            aes(label = country, x = 2015), fontface = &quot;bold&quot;, angle = 45) + 
  guides(color = FALSE) +
  scale_y_reverse(breaks = 1:8) +
  scale_x_continuous(breaks = 2004:2014) +
  scale_color_viridis_d(option = &quot;C&quot;, begin = 0.2, end = 0.9) +
  labs(x = NULL, y = &quot;Rank&quot;)

bumpplot</code></pre>
<p><img src="/example/03-example_files/figure-html/bump-plot-fancier-1.png" width="672" /></p>
<p>If you want to be <em>super</em> fancy, you can use flags instead of country codes, but that‚Äôs a little more complicated (you need to install the <a href="https://github.com/rensa/ggflags"><strong>ggflags</strong> package</a>. <a href="https://dominikkoch.github.io/Bump-Chart/">See here for an example</a>.</p>
</div>
<div id="themes" class="section level3">
<h3>Themes</h3>
<p>We can go a little further towards a clean, easy-to-read data visualization by using <strong>themes</strong> in our plots. Themes allow us to set a particular range of plot settings in one command, and let us further tweak things like fonts, background colors, and much more. We‚Äôve used them in passing a few times without highlighting them, but we‚Äôll discuss them here.</p>
<p>A pre-constructed set of instructions for making a visual theme can be had by using a theme‚Äôs <code>ggplot</code> function. Let‚Äôs look at two of my favorites.</p>
<p><code>theme_bw()</code> uses the black-and-white theme, which is helpful in making a nice, clean plot:</p>
<pre class="r"><code>bumpplot + theme_bw()</code></pre>
<p><img src="/example/03-example_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>The background shading is gone, which gives the plot a nice, crisp feel. It adds the black outline around the plot, but doesn‚Äôt mess with the colors in the plot.</p>
<p>Here‚Äôs <code>theme_minimal()</code></p>
<pre class="r"><code>bumpplot + theme_minimal()</code></pre>
<p><img src="/example/03-example_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Themes can alter things in the plot as well. If we really want to strip it down and remove the Y-axis (which is rarely a good idea, but in a bump chart, it makes sense):</p>
<pre class="r"><code>bumpplot + theme_void()</code></pre>
<p><img src="/example/03-example_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Now <strong>that‚Äôs</strong> clean!</p>
<p>In our opening unit, we had a plot that was styled after the plots in the magazine, <em>The Economist</em>. That‚Äôs a theme (in the <code>ggthemes</code> package that we loaded at the top)!</p>
<pre class="r"><code>bumpplot + theme_economist()</code></pre>
<p><img src="/example/03-example_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Themes affect some of the plot elements that we haven‚Äôt gotten much into (like length of axis ticks and the color of the panel grid behind the plot). We can use a theme, then make further changes to the theme. We won‚Äôt go into a lot of detail, but here‚Äôs an example. Use the <code>?theme</code> to learn more about what you can change. Half the challenge is finding the right term for the thing you want to tweak! Theme changes occur in code order, so you can update a pre-set theme with your own details:</p>
<pre class="r"><code>bumpplot +   theme_bw() + theme(strip.text = element_text(face = &quot;bold&quot;),
                   plot.title = element_text(face = &quot;bold&quot;),
                   axis.text.x = element_text(angle = 45, hjust = 1),
                   panel.grid.major.y = element_blank(), # turn off all of the Y grid
                   panel.grid.minor.y = element_blank(),
                   panel.grid.minor.x = element_blank()) # turn off small x grid</code></pre>
<p><img src="/example/03-example_files/figure-html/bump-plot-fancierest-1.png" width="672" /></p>
</div>
<div id="small-multiples" class="section level3">
<h3>Small multiples</h3>
<p>First we can make some small multiples plots and show life expectancy over time for a handful of countries. We‚Äôll make a list of some countries chosen at random while I scrolled through the data, and then filter our data to include only those rows. We then plot life expectancy, faceting by country.</p>
<pre class="r"><code>life_expectancy_small &lt;- gapminder %&gt;%
  filter(country %in% c(&quot;Argentina&quot;, &quot;Bolivia&quot;, &quot;Brazil&quot;,
                        &quot;Belize&quot;, &quot;Canada&quot;, &quot;Chile&quot;))
ggplot(data = life_expectancy_small,
       mapping = aes(x = year, y = life_expectancy)) +
  geom_line(size = 1) +
  facet_wrap(vars(country))</code></pre>
<p><img src="/example/03-example_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>Small multiples! That‚Äôs all we need to do.</p>
<p>We can do some fancier things, though. We can make this plot hyper minimalist with a <strong>theme</strong>:</p>
<pre class="r"><code>ggplot(data = life_expectancy_small,
       mapping = aes(x = year, y = life_expectancy)) +
  geom_line(size = 1) +
  facet_wrap(vars(country), scales = &quot;free_y&quot;) +
  theme_void() +
  theme(strip.text = element_text(face = &quot;bold&quot;))</code></pre>
<p><img src="/example/03-example_files/figure-html/life-expectancy-small-minimalist-1.png" width="672" /></p>
<p>We can do a whole part of a continent (poor Syria üòû)</p>
<pre class="r"><code>life_expectancy_mena &lt;- gapminder %&gt;%
  filter(region == &quot;Northern Africa&quot; | region == &quot;Western Asia&quot;)

ggplot(data = life_expectancy_mena,
       mapping = aes(x = year, y = life_expectancy)) +
  geom_line(size = 1) +
  facet_wrap(vars(country), scales = &quot;free_y&quot;, nrow = 3) +
  theme_void() +
  theme(strip.text = element_text(face = &quot;bold&quot;))</code></pre>
<p><img src="/example/03-example_files/figure-html/life-expectancy-mena-1.png" width="960" /></p>
<p>We can use the <a href="https://hafen.github.io/geofacet/"><strong>geofacet</strong> package</a> to arrange these facets by geography:</p>
<pre class="r"><code>library(geofacet)

life_expectancy_eu &lt;- gapminder %&gt;%
  filter(region== &#39;Western Europe&#39; | region==&#39;Northern Europe&#39; | region==&#39;Southern Europe&#39;)

ggplot(life_expectancy_eu, aes(x = year, y = life_expectancy)) +
  geom_line(size = 1) +
  facet_geo(vars(country), grid = &quot;europe_countries_grid1&quot;, scales = &quot;free_y&quot;) +
  labs(x = NULL, y = NULL, title = &quot;Life expectancy from 1960‚Äì2015&quot;,
       caption = &quot;Source: Gapminder&quot;) +
  theme_minimal() +
  theme(strip.text = element_text(face = &quot;bold&quot;),
        plot.title = element_text(face = &quot;bold&quot;),
        axis.text.x = element_text(angle = 45, hjust = 1))</code></pre>
<p><img src="/example/03-example_files/figure-html/life-expectancy-eu-1.png" width="960" /></p>
<p>Neat!</p>
<p>Anybody see any problems here?</p>
</div>
<div id="sparklines" class="section level3">
<h3>Sparklines</h3>
<p>Sparklines are just line charts (or bar charts) that are really really small.</p>
<pre class="r"><code>india_fert &lt;- gapminder %&gt;%
  filter(country == &quot;India&quot;)
plot_india &lt;- ggplot(india_fert, aes(x = year, y = fertility)) +
  geom_line() +
  theme_void()
plot_india</code></pre>
<p><img src="/example/03-example_files/figure-html/india-spark-1.png" width="96" /></p>
<pre class="r"><code>ggsave(&quot;india_co2.pdf&quot;, plot_india, width = 1, height = 0.15, units = &quot;in&quot;)
ggsave(&quot;india_co2.png&quot;, plot_india, width = 1, height = 0.15, units = &quot;in&quot;)</code></pre>
<pre class="r"><code>china_fert &lt;- gapminder %&gt;%
  filter(country == &quot;China&quot;)
plot_china &lt;- ggplot(china_fert, aes(x = year, y = fertility)) +
  geom_line() +
  theme_void()
plot_china</code></pre>
<p><img src="/example/03-example_files/figure-html/china-spark-1.png" width="96" /></p>
<pre class="r"><code>ggsave(&quot;china_co2.pdf&quot;, plot_china, width = 1, heighlt = 0.15, units = &quot;in&quot;)
ggsave(&quot;china_co2.png&quot;, plot_china, width = 1, height = 0.15, units = &quot;in&quot;)</code></pre>
<p>You can then use those saved tiny plots in your text (with a little html extra in there).</p>
<pre><code>Both India &lt;img class=&quot;img-inline&quot; src=&quot;/your/path/to/india_co2.png&quot; width = &quot;100&quot;/&gt; and 
China &lt;img class=&quot;img-inline&quot; src=&quot;/your/path/to/china-spark-1.png&quot; width = &quot;100&quot;/&gt; have 
seen increased CO~2~ emissions over the past 20 years.</code></pre>
<blockquote>
<p>Both India <img class="img-inline" src="/example/03-example_files/figure-html/india-spark-1.png" width = "100"/> and China <img class="img-inline" src="/example/03-example_files/figure-html/china-spark-1.png" width = "100"/> have seen increased CO<sub>2</sub> emissions over the past 20 years.</p>
</blockquote>
</div>
</div>
<div id="the-ecological-fallacy-and-importance-of-showing-the-data" class="section level2">
<h2>The ecological fallacy and importance of showing the data</h2>
<p>Throughout this section, we have been comparing regions of the world. We have seen that, on average, some regions do better than others. In this section, we focus on describing the importance of variability within the groups when examining the relationship between a country‚Äôs infant mortality rates and average income.</p>
<p>We define a few more regions and compare the averages across regions:</p>
<p><img src="/example/03-example_files/figure-html/ecological-fallacy-averages-1.png" width="672" /></p>
<p>The relationship between these two variables is almost perfectly linear and the graph shows a dramatic difference. While in the West less than 0.5% of infants die, in Sub-Saharan Africa the rate is higher than 6%!</p>
<p>Note that the plot uses a new transformation, the logistic transformation.</p>
<div id="logit" class="section level3">
<h3>Logistic transformation</h3>
<p>The logistic or logit transformation for a proportion or rate <span class="math inline">\(p\)</span> is defined as:</p>
<p><span class="math display">\[f(p) = \log \left( \frac{p}{1-p} \right)\]</span></p>
<p>When <span class="math inline">\(p\)</span> is a proportion or probability, the quantity that is being logged, <span class="math inline">\(p/(1-p)\)</span>, is called the <em>odds</em>. In this case <span class="math inline">\(p\)</span> is the proportion of infants that survived. The odds tell us how many more infants are expected to survive than to die. The log transformation makes this symmetric. If the rates are the same, then the log odds is 0. Fold increases or decreases turn into positive and negative increments, respectively.</p>
<p>This scale is useful when we want to highlight differences near 0 or 1. For survival rates this is important because a survival rate of 90% is unacceptable, while a survival of 99% is relatively good. We would much prefer a survival rate closer to 99.9%. We want our scale to highlight these difference and the logit does this. Note that 99.9/0.1 is about 10 times bigger than 99/1 which is about 10 times larger than 90/10. By using the log, these fold changes turn into constant increases.</p>
</div>
<div id="show-the-data" class="section level3">
<h3>Show the data</h3>
<p>Now, back to our plot. Based on the plot above, do we conclude that a country with a low income is destined to have low survival rate? Do we conclude that survival rates in Sub-Saharan Africa are all lower than in Southern Asia, which in turn are lower than in the Pacific Islands, and so on?</p>
<p>Jumping to this conclusion based on a plot showing averages is referred to as the <em>ecological fallacy</em>. The almost perfect relationship between survival rates and income is only observed for the averages at the region level. Once we show all the data, we see a somewhat more complicated story:</p>
<p><img src="/example/03-example_files/figure-html/ecological-fallacy-all-data-1.png" width="672" /></p>
<p>Specifically, we see that there is a large amount of variability. We see that countries from the same regions can be quite different and that countries with the same income can have different survival rates. For example, while on average Sub-Saharan Africa had the worse health and economic outcomes, there is wide variability within that group. Mauritius and Botswana are doing better than Angola and Sierra Leone, with Mauritius comparable to Western countries.</p>
</div>
</div>
<div id="vaccines" class="section level2">
<h2>Case study: vaccines and infectious diseases</h2>
<p>Vaccines have helped save millions of lives. In the 19th century, before herd immunization was achieved through vaccination programs, deaths from infectious diseases, such as smallpox and polio, were common. However, today vaccination programs have become somewhat controversial despite all the scientific evidence for their importance.</p>
<p>The controversy started with a paper<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> published in 1988 and led by Andrew Wakefield claiming
there was a link between the administration of the measles, mumps, and rubella (MMR) vaccine and the appearance of autism and bowel disease.
Despite much scientific evidence contradicting this finding, sensationalist media reports and fear-mongering from conspiracy theorists led parts of the public into believing that vaccines were harmful. As a result, many parents ceased to vaccinate their children. This dangerous practice can be potentially disastrous given that the Centers for Disease Control (CDC) estimates that vaccinations will prevent more than 21 million hospitalizations and 732,000 deaths among children born in the last 20 years (see Benefits from Immunization during the Vaccines for Children Program Era ‚Äî United States, 1994-2013, MMWR<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>).
The 1988 paper has since been retracted and Andrew Wakefield was eventually ‚Äústruck off the UK medical register, with a statement identifying deliberate falsification in the research published in The Lancet, and was thereby barred from practicing medicine in the UK.‚Äù (source: Wikipedia<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>). Yet misconceptions persist, in part due to self-proclaimed activists who continue to disseminate misinformation about vaccines.</p>
<p>Effective communication of data is a strong antidote to misinformation and fear-mongering. Earlier we used an example provided by a Wall Street Journal article<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a> showing data related to the impact of vaccines on battling infectious diseases. Here we reconstruct that example.</p>
<p>The data used for these plots were collected, organized, and distributed by the Tycho Project<a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>. They include weekly reported counts for seven diseases from 1928 to 2011, from all fifty states. The yearly totals are helpfully included in the <strong>dslabs</strong> package:</p>
<pre class="r"><code>library(RColorBrewer)
data(us_contagious_diseases)
names(us_contagious_diseases)</code></pre>
<pre><code>## [1] &quot;disease&quot;         &quot;state&quot;           &quot;year&quot;            &quot;weeks_reporting&quot;
## [5] &quot;count&quot;           &quot;population&quot;</code></pre>
<p>We create a temporary object <code>dat</code> that stores only the measles data, includes a per 100,000 rate, orders states by average value of disease and removes Alaska and Hawaii since they only became states in the late 1950s. Note that there is a <code>weeks_reporting</code> column that tells us for how many weeks of the year data was reported. We have to adjust for that value when computing the rate.</p>
<pre class="r"><code>the_disease &lt;- &quot;Measles&quot;
dat &lt;- us_contagious_diseases %&gt;%
  filter(!state%in%c(&quot;Hawaii&quot;,&quot;Alaska&quot;) &amp; disease == the_disease) %&gt;%
  mutate(rate = count / population * 10000 * 52 / weeks_reporting) %&gt;%
  mutate(state = reorder(state, rate))</code></pre>
<p>We can now easily plot disease rates per year. Here are the measles data from California:</p>
<pre class="r"><code>dat %&gt;% filter(state == &quot;California&quot; &amp; !is.na(rate)) %&gt;%
  ggplot(aes(year, rate)) +
  geom_line() +
  ylab(&quot;Cases per 10,000&quot;)  +
  geom_vline(xintercept=1963, col = &quot;blue&quot;)</code></pre>
<p><img src="/example/03-example_files/figure-html/california-measles-time-series-1.png" width="672" /></p>
<p>We add a vertical line at 1963 since this is when the vaccine was introduced [Control, Centers for Disease; Prevention (2014). CDC health information for international travel 2014 (the yellow book). p.¬†250. ISBN 9780199948505].</p>
<p>Now can we show data for all states in one plot? We have three variables to show: year, state, and rate. In the WSJ figure, they use the x-axis for year, the y-axis for state, and color hue to represent rates. However, the color scale they use, which goes from yellow to blue to green to orange to red, can be improved.</p>
<p>In our example, we want to use a sequential palette since there is no meaningful center, just low and high rates.</p>
<p>We use the geometry <code>geom_tile</code> to tile the region with colors representing disease rates. We use a square root transformation to avoid having the really high counts dominate the plot. Notice that missing values are shown in grey. Note that once a disease was pretty much eradicated, some states stopped reporting cases all together. This is why we see so much grey after 1980.</p>
<pre class="r"><code>dat %&gt;% ggplot(aes(year, state, fill = rate)) +
  geom_tile(color = &quot;grey50&quot;) +
  scale_x_continuous(expand=c(0,0)) +
  scale_fill_gradientn(colors = brewer.pal(9, &quot;Reds&quot;), trans = &quot;sqrt&quot;) +
  geom_vline(xintercept=1963, col = &quot;blue&quot;) +
  theme_minimal() +
  theme(panel.grid = element_blank(),
        legend.position=&quot;bottom&quot;,
        text = element_text(size = 8)) +
  ggtitle(the_disease) +
  ylab(&quot;&quot;) + xlab(&quot;&quot;)</code></pre>
<p><img src="/example/03-example_files/figure-html/vaccines-plot-1.png" width="100%" /></p>
<p>This plot makes a very striking argument for the contribution of vaccines. However, one limitation of this plot is that it uses color to represent quantity, which we earlier explained makes it harder to know exactly how high values are going. Position and lengths are better cues. If we are willing to lose state information, we can make a version of the plot that shows the values with position. We can also show the average for the US, which we compute like this:</p>
<pre class="r"><code>avg &lt;- us_contagious_diseases %&gt;%
  filter(disease==the_disease) %&gt;% group_by(year) %&gt;%
  summarize(us_rate = sum(count, na.rm = TRUE) /
              sum(population, na.rm = TRUE) * 10000)</code></pre>
<p>Now to make the plot we simply use the <code>geom_line</code> geometry:</p>
<pre class="r"><code>dat %&gt;%
  filter(!is.na(rate)) %&gt;%
    ggplot() +
  geom_line(aes(year, rate, group = state),  color = &quot;grey50&quot;,
            show.legend = FALSE, alpha = 0.2, size = 1) +
  geom_line(mapping = aes(year, us_rate),  data = avg, size = 1) +
  scale_y_continuous(trans = &quot;sqrt&quot;, breaks = c(5, 25, 125, 300)) +
  ggtitle(&quot;Cases per 10,000 by state&quot;) +
  xlab(&quot;&quot;) + ylab(&quot;&quot;) +
  geom_text(data = data.frame(x = 1955, y = 50),
            mapping = aes(x, y, label=&quot;US average&quot;),
            color=&quot;black&quot;) +
  geom_vline(xintercept=1963, col = &quot;blue&quot;)</code></pre>
<p><img src="/example/03-example_files/figure-html/time-series-vaccines-plot-1.png" width="672" /></p>
<p>In theory, we could use color to represent the categorical value state, but it is hard to pick 50 distinct colors.</p>
</div>
<div id="try-it" class="section level2">
<h2><strong>TRY IT</strong></h2>
<div class="fyi">
<p><strong>TRY IT</strong></p>
<ol style="list-style-type: decimal">
<li><p>Reproduce the image plot we previously made but for smallpox. For this plot, do not include years in which cases were not reported in 10 or more weeks.</p></li>
<li><p>Now reproduce the time series plot we previously made, but this time following the instructions of the previous question for smallpox.</p></li>
<li><p>For the state of California, make a time series plot showing rates for all diseases. Include only years with 10 or more weeks reporting. Use a different color for each disease.</p></li>
<li><p>Now do the same for the rates for the US. Hint: compute the US rate by using summarize: the total divided by total population.</p></li>
</ol>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://en.wikipedia.org/wiki/Hans_Rosling" class="uri">https://en.wikipedia.org/wiki/Hans_Rosling</a><a href="#fnref1" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn2"><p><a href="http://www.gapminder.org/" class="uri">http://www.gapminder.org/</a><a href="#fnref2" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn3"><p><a href="https://www.ted.com/talks/hans_rosling_reveals_new_insights_on_poverty?language=en" class="uri">https://www.ted.com/talks/hans_rosling_reveals_new_insights_on_poverty?language=en</a><a href="#fnref3" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn4"><p><a href="https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen" class="uri">https://www.ted.com/talks/hans_rosling_shows_the_best_stats_you_ve_ever_seen</a><a href="#fnref4" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn5"><p><a href="http://www.thelancet.com/journals/lancet/article/PIIS0140-6736(97)11096-0/abstract" class="uri">http://www.thelancet.com/journals/lancet/article/PIIS0140-6736(97)11096-0/abstract</a><a href="#fnref5" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn6"><p><a href="https://www.cdc.gov/mmwr/preview/mmwrhtml/mm6316a4.htm" class="uri">https://www.cdc.gov/mmwr/preview/mmwrhtml/mm6316a4.htm</a><a href="#fnref6" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn7"><p><a href="https://en.wikipedia.org/wiki/Andrew_Wakefield" class="uri">https://en.wikipedia.org/wiki/Andrew_Wakefield</a><a href="#fnref7" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn8"><p><a href="http://graphics.wsj.com/infectious-diseases-and-vaccines/" class="uri">http://graphics.wsj.com/infectious-diseases-and-vaccines/</a><a href="#fnref8" class="footnote-back">‚Ü©Ô∏é</a></p></li>
<li id="fn9"><p><a href="http://www.tycho.pitt.edu/" class="uri">http://www.tycho.pitt.edu/</a><a href="#fnref9" class="footnote-back">‚Ü©Ô∏é</a></p></li>
</ol>
</div>

                    </div>

                    



                    
                </div>

                <div class="body-footer">
                    <p>Last updated on January 6, 2022</p>

                    


                    

                </div>

            </article>

            <footer>
    <hr>

    <div class="row course-info">
        <div class="col-md-7">
            <p>
                <strong>SSC 442: Data Analytics (Spring Semester 2022)</strong><br>

                <a href="https://www.msu.edu" target="_blank" rel="noopener">Michigan State University</a> &emsp;&emsp;
                <a href="https://socialscience.msu.edu/" target="_blank" rel="noopener">College of Social Science</a>
            </p>

            <p>
                <a href="https://www.justinkirkpatrick.com" target="_blank" rel="noopener"><i class="fas fa-user"></i>
                    Prof. Justin Kirkpatrick</a> &emsp;&emsp;
                <a href="mailto:jkirk@msu.edu"><i class="fas fa-envelope"></i>
                    jkirk@msu.edu</a>
            </p>

            <p>
                <i class="far fa-calendar-alt"></i> Tuesday and Thursday &emsp;&emsp;
                <i class="far fa-clock"></i> 6:00pm - 7:20pm 
                
            </p>
        </div>

        <div class="col-md-5 credits">
            <p>All content licensed under a <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="noopener">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.</p>
            
            <p>Content <i class="fab fa-creative-commons"></i> 2020-22 <a href="https://www.justinkirkpatrick.com" target="_blank" rel="noopener">Ben Bushong; Justin Kirkpatrick</a></p>
        
            <p>This site created with the <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> in <a href="https://bookdown.org/yihui/blogdown/" target="_blank" rel="noopener">blogdown</a> and <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>. </p>
            
            <p><a href="https://github.com/" target="_blank" rel="noopener"><i class="fab fa-github"></i> View the source at GitHub.</a></p>
        </div>
    </div>
</footer>


        </main>
    </div>
</div>

        

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    

    
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academic.min.6f7ce8be710290b8c431bbc97f405d15.js"></script>

    



    
    

    
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
