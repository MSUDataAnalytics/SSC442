<!DOCTYPE html>
<html lang="en-us" 
      xmlns:og="http://ogp.me/ns#" 
      xmlns:fb="https://www.facebook.com/2008/fbml">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Ben Bushong">

  
  
  
    
  
  <meta name="description" content="An Application of Text Cleaning  Analyzing the Relationship between Specific Words and Star Ratings Breaking Down the Analysis Optional Extensions    An Application of Text Cleaning Analyzing the Relationship between Specific Words and Star Ratings In this exercise, you will work with an Amazon product reviews dataset. Your task will be to analyze the relationship between the occurrence of specific words (such as “awesome” and “good”) in the review text and the star ratings.">

  
  <link rel="alternate" hreflang="en-us" href="https://ssc442.netlify.app/example/12-example/">

  


  
  
  
  <meta name="theme-color" content="#18453B">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Sans+Condensed:400,400i,700,700i%7COverpass:400,400i,700,700i&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="https://ssc442.netlify.app/example/12-example/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="Data Analytics">
  <meta property="og:url" content="https://ssc442.netlify.app/example/12-example/">
  <meta property="og:title" content="Text as Data | Data Analytics">
  <meta property="og:description" content="An Application of Text Cleaning  Analyzing the Relationship between Specific Words and Star Ratings Breaking Down the Analysis Optional Extensions    An Application of Text Cleaning Analyzing the Relationship between Specific Words and Star Ratings In this exercise, you will work with an Amazon product reviews dataset. Your task will be to analyze the relationship between the occurrence of specific words (such as “awesome” and “good”) in the review text and the star ratings."><meta property="og:image" content="https://ssc442.netlify.app/img/social-image.png">
  <meta property="twitter:image" content="https://ssc442.netlify.app/img/social-image.png"><meta property="og:locale" content="en-us">
  
    
    <meta property="article:modified_time" content="2023-04-20T12:15:20-04:00">
  

  



  


  


  <link rel="shortcut icon" href="https://ssc442.netlify.app/favicon.ico" />
  <link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://ssc442.netlify.app/img/apple-touch-icon-57x57.png" />
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://ssc442.netlify.app/img/apple-touch-icon-114x114.png" />
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://ssc442.netlify.app/img/apple-touch-icon-72x72.png" />
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://ssc442.netlify.app/img/apple-touch-icon-144x144.png" />
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://ssc442.netlify.app/img/apple-touch-icon-120x120.png" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://ssc442.netlify.app/img/apple-touch-icon-152x152.png" />
  <link rel="icon" type="image/png" href="https://ssc442.netlify.app/img/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="https://ssc442.netlify.app/img/favicon-16x16.png" sizes="16x16" />
  <meta name="application-name" content="SSC 442: Data Analytics" />
  <meta name="msapplication-TileColor" content="#FFFFFF" />
  <meta name="msapplication-TileImage" content="https://ssc442.netlify.app/img/mstile-144x144.png" />


  <title>Text as Data | Data Analytics</title>

</head>


<body id="top" data-spy="scroll" data-offset="70"
    data-target="#TableOfContents"
    >

    <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


    







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Data Analytics</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Data Analytics</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/content/"><span>Content</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/example/"><span>Examples</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/assignment/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
            
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="https://join.slack.com/t/msu-jrh5189/shared_invite/zt-1n4er6s8w-so~a8phMerlFTSsgBy73fQ" target="_blank" rel="noopener"><span><i class="fab fa-slack"></i></span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/resource/"><span>Resources</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      

      

      

    </ul>

  </div>
</nav>


    

<div class="container-fluid docs">
    <div class="row flex-xl-nowrap">
        <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
            





  
    
  




<form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
</form>

<nav class="collapse docs-links" id="docs-nav">
  

  
  
  
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/example/">Examples and Practice Material</a>

  </div>
  
  <div class="docs-toc-item">
    <a class="docs-toc-link" href="/example/00-example/">Examples</a>
    <ul class="nav docs-sidenav">
      
      <li >
        <a href="/example/00-example/">0: Introduction to R</a>
      </li>
      
      <li >
        <a href="/example/01-example/">1: Visualization I</a>
      </li>
      
      <li >
        <a href="/example/02-example/">2: Visualization II</a>
      </li>
      
      <li >
        <a href="/example/04-example/">3: Uncertainty</a>
      </li>
      
      <li >
        <a href="/example/03-example/">4: Visualization III</a>
      </li>
      
      <li >
        <a href="/example/05-example/">5: Linear Regression I</a>
      </li>
      
      <li >
        <a href="/example/06-example/">6: Linear Regression II</a>
      </li>
      
      <li >
        <a href="/example/07-example/">7: Linear Regression III</a>
      </li>
      
      <li >
        <a href="/example/09-example/">7b: Bias vs. Variance</a>
      </li>
      
      <li >
        <a href="/example/08-example/">8: Nonparametric Regression</a>
      </li>
      
      <li >
        <a href="/example/10-example/">10: Classification</a>
      </li>
      
      <li >
        <a href="/example/11-example/">11: Data Wrangling</a>
      </li>
      
      <li class="active">
        <a href="/example/12-example/">12: Text as Data</a>
      </li>
      
    </ul>
    

  </div>
  
  
</nav>

        </div>

        

        <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

            <article class="article">

                <div class="docs-article-container">
                    <h1>Text as Data</h1>

                    

                    

                    

                    <div class="article-style">
                        

<div id="TOC">
<ul>
<li><a href="#an-application-of-text-cleaning" id="toc-an-application-of-text-cleaning">An Application of Text Cleaning</a>
<ul>
<li><a href="#analyzing-the-relationship-between-specific-words-and-star-ratings" id="toc-analyzing-the-relationship-between-specific-words-and-star-ratings">Analyzing the Relationship between Specific Words and Star Ratings</a></li>
<li><a href="#breaking-down-the-analysis" id="toc-breaking-down-the-analysis">Breaking Down the Analysis</a></li>
<li><a href="#optional-extensions" id="toc-optional-extensions">Optional Extensions</a></li>
</ul></li>
</ul>
</div>

<div id="an-application-of-text-cleaning" class="section level2">
<h2>An Application of Text Cleaning</h2>
<div id="analyzing-the-relationship-between-specific-words-and-star-ratings" class="section level3">
<h3>Analyzing the Relationship between Specific Words and Star Ratings</h3>
<p>In this exercise, you will work with an Amazon product reviews dataset. Your task will be to analyze the relationship between the occurrence of specific words (such as “awesome” and “good”) in the review text and the star ratings.</p>
<p><a href="https://www.kaggle.com/snap/amazon-fine-food-reviews">Link to Dataset.</a>. If you wish to follow along with the code, you’ll need to save this as <code>Reviews.csv</code> or manually load the data as <code>reviews</code>.</p>
<p>As with last week, this exercise will be the weekly writing. Your final effort should be submitted using the standard format. And with that you are nearly done with the course.</p>
</div>
<div id="breaking-down-the-analysis" class="section level3">
<h3>Breaking Down the Analysis</h3>
<p>Below is some code to get you started. It may not work out of the box; you’ll have to hack and slash your way through.</p>
<p><strong>Step 1:</strong> Read the dataset containing product reviews into R.</p>
<pre class="r"><code># Load required packages
library(tidyverse)

# Read the dataset
reviews &lt;- read_csv(&quot;Reviews.csv&quot;)

# Display the first few rows
head(reviews)</code></pre>
<p><strong>Step 2:</strong> Calculate the occurrences of specific words (e.g., “awesome” and “good”) in the review text using string processing functions from the <code>stringr</code> package.</p>
<p>Note that this code is not <em>robust</em> in the sense that it does not capture alternative spellings and capitalization. You should use regular expressions to alter this code.</p>
<pre class="r"><code># Load the stringr package
library(stringr)

# Calculate occurrences of specific words
reviews$awesome_count &lt;- str_count(reviews$Text, &quot;awesome&quot;)
reviews$good_count &lt;- str_count(reviews$Text, &quot;good&quot;)

# Display the first few rows with word occurrences
head(reviews)</code></pre>
<p><strong>Step 3:</strong> Compute the average star rating for reviews containing each specific word.</p>
<pre class="r"><code># Calculate the average star rating for reviews containing &quot;awesome&quot;
awesome_reviews &lt;- reviews %&gt;% filter(awesome_count &gt; 0)
average_rating_awesome &lt;- mean(awesome_reviews$Score, na.rm = TRUE)

# Calculate the average star rating for reviews containing &quot;good&quot;
good_reviews &lt;- reviews %&gt;% filter(good_count &gt; 0)
average_rating_good &lt;- mean(good_reviews$Score, na.rm = TRUE)

# Display the average ratings
cat(&quot;The average rating for reviews containing &#39;awesome&#39; is:&quot;, average_rating_awesome, &quot;\n&quot;)
cat(&quot;The average rating for reviews containing &#39;good&#39; is:&quot;, average_rating_good, &quot;\n&quot;)</code></pre>
<p><strong>Step 4:</strong></p>
<pre class="r"><code># Combine &#39;awesome&#39; and &#39;good&#39; reviews into a single dataset for plotting
plot_data &lt;- awesome_reviews %&gt;%
  select(Score) %&gt;%
  mutate(word = &quot;awesome&quot;) %&gt;%
  bind_rows(good_reviews %&gt;%
              select(Score) %&gt;%
              mutate(word = &quot;good&quot;))

# Create boxplots to visualize the distribution of star ratings
ggplot(plot_data, aes(x = word, y = Score)) +
  geom_boxplot(fill = &quot;lightblue&quot;, color = &quot;black&quot;) +
  labs(title = &quot;Distribution of Star Ratings for Reviews Containing Specific Words&quot;,
       x = &quot;Word&quot;, y = &quot;Star Rating&quot;) +
  scale_y_continuous(breaks = seq(1, 5, 1))</code></pre>
<p><strong>Step 5:</strong> Predictive analytics - using word occurrences to predict star ratings. In this step, we will build a simple linear regression model to predict the star ratings based on the occurrences of specific words (“awesome” and “good”) in the review text. You should explore alternatives and not merely copy and paste code.</p>
<pre class="r"><code># Load required package
library(caret)

# Create a training and testing dataset
set.seed(123)
train_index &lt;- createDataPartition(reviews$Score, p = 0.8, list = FALSE)
train_data &lt;- reviews[train_index,]
test_data &lt;- reviews[-train_index,]

# Fit a linear regression model using occurrences of &quot;awesome&quot; and &quot;good&quot; as predictors
model &lt;- lm(Score ~ awesome_count + good_count, data = train_data)

# Display the model summary
summary(model)</code></pre>
<p><strong>Step 6:</strong> Evaluate the predictive performance of the linear regression model on the test dataset.</p>
<pre class="r"><code># Predict the star ratings on the test dataset
predictions &lt;- predict(model, test_data)

# Calculate the Root Mean Squared Error (RMSE)
rmse &lt;- sqrt(mean((predictions - test_data$Score)^2))
cat(&quot;The Root Mean Squared Error (RMSE) of the model is:&quot;, rmse, &quot;\n&quot;)</code></pre>
</div>
<div id="optional-extensions" class="section level3">
<h3>Optional Extensions</h3>
<p>Explore more advanced predictive models, such as decision trees, knn, or text-based models like bag-of-words or TF-IDF, to improve the prediction accuracy. You can use packages like <code>randomForest</code>, <code>xgboost</code>, or <code>text2vec</code> for these advanced models.</p>
</div>
</div>

                    </div>

                    



                    
                </div>

                <div class="body-footer">
                    <p>Last updated on April 20, 2023</p>

                    


                    

                </div>

            </article>

            <footer>
    <hr>

    <div class="row course-info">
        <div class="col-md-7">
            <p>
                <strong>SSC 442: Data Analytics (Spring Semester 2023)</strong><br>

                <a href="https://www.msu.edu" target="_blank" rel="noopener">Michigan State University</a> &emsp;&emsp;
                <a href="https://socialscience.msu.edu/" target="_blank" rel="noopener">College of Social Science</a>
            </p>

            <p>
                <a href="https://www.benbushong.com" target="_blank" rel="noopener"><i class="fas fa-user"></i>
                    Prof. Ben Bushong</a> &emsp;&emsp;
                <a href="mailto:bbushong@msu.edu"><i class="fas fa-envelope"></i>
                    bbushong@msu.edu</a>
            </p>

            <p>
                <i class="far fa-calendar-alt"></i> Tuesday and Thursday &emsp;&emsp;
                <i class="far fa-clock"></i> 12:40pm - 2:00pm 
                <br><i class="fas fa-university"></i> 110 Berkey Hall
            </p>
        </div>

        <div class="col-md-5 credits">
            <p>All content licensed under a <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="noopener">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.</p>
            
            <p>Content <i class="fab fa-creative-commons"></i> 2020-23 <a href="https://www.benbushong.com" target="_blank" rel="noopener">Ben Bushong; Justin Kirkpatrick; based on work by Andrew Heiss</a></p>
        
            <p>This site created with the <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> in <a href="https://bookdown.org/yihui/blogdown/" target="_blank" rel="noopener">blogdown</a> and <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>. </p>
            
            <p><a href="https://github.com/" target="_blank" rel="noopener"><i class="fab fa-github"></i> View the source at GitHub.</a></p>
        </div>
    </div>
</footer>


        </main>
    </div>
</div>

        

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.1/anchor.min.js" integrity="sha256-pB/deHc9CGfFpJRjC43imB29Rse8tak+5eXqntO94ck=" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    

    
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academic.min.6f7ce8be710290b8c431bbc97f405d15.js"></script>

    



    
    

    
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>

</html>
